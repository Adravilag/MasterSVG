    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    :root {
      --font-mono: var(--vscode-editor-font-family, 'Consolas', monospace);
    }
    
    body {
      font-family: var(--vscode-font-family);
      font-size: 13px;
      color: var(--vscode-foreground);
      background: var(--vscode-editor-background);
      padding: 16px;
      min-height: 100vh;
      overflow-y: auto;
    }
    
    .container {
      max-width: 900px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      height: 100%;
    }
    
    .header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 16px;
      background: linear-gradient(135deg, var(--vscode-sideBar-background), var(--vscode-editor-background));
      border: 1px solid var(--vscode-panel-border);
      border-radius: 10px;
      margin-bottom: 12px;
      flex-shrink: 0;
      position: sticky;
      top: 0;
      z-index: 100;
      backdrop-filter: blur(8px);
    }
    
    .header-left {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    
    .icon-name {
      font-size: 16px;
      font-weight: 700;
      font-family: var(--font-mono);
    }
    
    .rename-btn {
      background: transparent;
      border: 1px solid transparent;
      color: var(--vscode-descriptionForeground);
      cursor: pointer;
      padding: 4px;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.15s;
    }
    
    .rename-btn:hover {
      background: var(--vscode-button-secondaryBackground);
      color: var(--vscode-foreground);
      border-color: var(--vscode-panel-border);
    }
    
    .header-right {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .badge {
      font-size: 9px;
      padding: 3px 8px;
      border-radius: 10px;
      font-weight: 600;
      text-transform: uppercase;
      background: var(--vscode-button-background);
      color: var(--vscode-button-foreground);
      display: inline-flex;
      align-items: center;
      gap: 4px;
    }
    
    .badge-built {
      background: var(--vscode-charts-green, #4caf50);
      color: #fff;
    }

    .badge-anim {
      background: var(--vscode-charts-blue, #2196f3);
      color: #fff;
    }
    
    .file-size {
      font-size: 11px;
      color: var(--vscode-descriptionForeground);
      font-family: var(--font-mono);
    }
    
    /* Main Layout - Two Columns */
    .main-content {
      display: grid;
      grid-template-columns: auto 1fr;
      gap: 16px;
      flex: 1;
      min-height: 0;
      overflow: hidden;
    }
    
    /* Left Column - Preview (Sticky) */
    .left-column {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      position: sticky;
      top: 0;
      align-self: flex-start;
      max-height: calc(100vh - 100px);
    }
    
    .preview-code-container {
      display: flex;
      gap: 12px;
      width: 100%;
      justify-content: center;
      align-items: flex-start;
    }
    
    .preview-section {
      display: flex;
      justify-content: center;
      flex-shrink: 0;
    }
    
    /* Code Tab Styles */
    .code-tab-container {
      display: flex;
      flex-direction: column;
      flex: 1;
      min-height: 0;
      background: #1e1e1e;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.05);
    }
    
    .code-tab-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 10px 14px;
      background: linear-gradient(180deg, rgba(255,255,255,0.03) 0%, transparent 100%);
      border-bottom: 1px solid rgba(255,255,255,0.06);
      flex-shrink: 0;
    }
    
    .code-title {
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.8px;
      color: rgba(255,255,255,0.5);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .code-title .codicon {
      font-size: 14px;
      color: #4fc1ff;
    }
    
    .code-header-left {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    
    .code-actions {
      display: flex;
      gap: 4px;
    }
    
    .code-action-btn {
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.08);
      color: rgba(255,255,255,0.6);
      cursor: pointer;
      padding: 6px 10px;
      border-radius: 4px;
      display: flex;
      align-items: center;
      gap: 5px;
      font-size: 11px;
      transition: all 0.15s;
    }
    
    .code-action-btn:hover {
      background: rgba(255,255,255,0.1);
      color: #fff;
      border-color: rgba(255,255,255,0.15);
    }
    
    .code-action-btn .codicon {
      font-size: 14px;
    }
    
    .code-badge {
      font-size: 10px;
      padding: 2px 8px;
      background: rgba(79, 193, 255, 0.15);
      color: #4fc1ff;
      border-radius: 10px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .animation-code-section {
      border: 1px solid rgba(79, 193, 255, 0.2);
    }
    
    #tab-code.active {
      display: flex;
      flex-direction: column;
      gap: 12px;
      padding: 8px;
    }
    
    .code-tab-container.collapsed .code-content {
      display: none;
    }
    
    .code-tab-container.collapsed .toggle-icon {
      transform: rotate(-90deg);
    }
    
    .code-tab-header {
      cursor: pointer;
    }
    
    .toggle-icon {
      transition: transform 0.2s ease;
      opacity: 0.7;
      font-size: 12px;
    }
    
    .code-tab-header:hover .toggle-icon {
      opacity: 1;
    }
    
    .code-content {
      overflow: auto;
      background: #1a1a1a;
      max-height: 300px;
    }
    
    .code-editor {
      display: table;
      width: 100%;
      font-family: 'JetBrains Mono', 'Fira Code', Consolas, monospace;
      font-size: 12px;
      border-collapse: collapse;
    }
    
    .code-row {
      display: table-row;
    }
    
    .code-row:hover {
      background: rgba(255,255,255,0.03);
    }
    
    .ln {
      display: table-cell;
      width: 40px;
      padding: 2px 12px 2px 8px;
      text-align: right;
      color: rgba(255,255,255,0.25);
      user-select: none;
      border-right: 1px solid rgba(255,255,255,0.05);
      vertical-align: top;
      white-space: nowrap;
    }
    
    .cl {
      display: table-cell;
      padding: 2px 16px;
      white-space: pre-wrap;
      word-break: break-all;
      color: #d4d4d4;
      tab-size: 2;
      vertical-align: top;
    }
    
    /* Syntax highlighting - using semantic HTML elements */
    .cl b { color: #808080; font-weight: normal; } /* brackets < > */
    .cl i { color: #4ec9b0; font-style: normal; font-weight: 500; } /* tag names */
    .cl u { color: #9cdcfe; text-decoration: none; } /* attributes / CSS properties */
    .cl em { color: #ce9178; font-style: normal; } /* strings */
    .cl cite { color: #6a9955; font-style: italic; } /* comments */
    
    /* CSS specific highlighting */
    .cl kbd { color: #c586c0; font-family: inherit; } /* @keyframes, @media */
    .cl var { color: #dcdcaa; font-style: normal; } /* CSS selectors */
    .cl samp { color: #ce9178; } /* CSS values */
    .cl s { color: #ffd700; text-decoration: none; font-weight: bold; } /* braces { } */
    
    .preview-box {
      --checker-size: 10px;
      --checker-color: rgba(128, 128, 128, 0.08);
      width: 200px;
      height: 200px;
      background-color: var(--vscode-editor-background);
      background-image: 
        linear-gradient(45deg, var(--checker-color) 25%, transparent 25%),
        linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
        linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
        linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
      background-size: calc(var(--checker-size) * 2) calc(var(--checker-size) * 2);
      background-position: 0 0, 0 var(--checker-size), var(--checker-size) calc(var(--checker-size) * -1), calc(var(--checker-size) * -1) 0;
      border: 1px solid var(--vscode-panel-border);
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
      position: relative;
    }
    
    .animation-indicator {
      position: absolute;
      top: 8px;
      right: 8px;
      width: 24px;
      height: 24px;
      background: var(--vscode-button-background);
      color: var(--vscode-button-foreground);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
      z-index: 10;
      animation: pulse-indicator 2s ease-in-out infinite;
    }
    
    @keyframes pulse-indicator {
      0%, 100% { opacity: 1; transform: scale(1); }
      50% { opacity: 0.7; transform: scale(0.9); }
    }
    
    .preview-box svg {
      width: 150px;
      height: 150px;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
    }
    
    /* Zoom Controls */
    .zoom-controls {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 6px;
      background: var(--vscode-sideBar-background);
      border: 1px solid var(--vscode-panel-border);
      border-radius: 6px;
    }
    
    .zoom-btn {
      width: 26px;
      height: 26px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--vscode-button-secondaryBackground);
      color: var(--vscode-button-secondaryForeground);
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.15s ease;
    }
    
    .zoom-btn:hover {
      background: var(--vscode-button-secondaryHoverBackground);
      transform: scale(1.1);
    }
    
    .zoom-btn.active {
      background: var(--vscode-button-background);
      color: var(--vscode-button-foreground);
    }
    
    .zoom-level {
      min-width: 50px;
      text-align: center;
      font-size: 12px;
      font-family: var(--font-mono);
      font-weight: 600;
    }
    
    .zoom-separator {
      width: 1px;
      height: 18px;
      background: var(--vscode-panel-border);
      margin: 0 2px;
    }
    
    .restart-anim-btn {
      background: var(--vscode-button-background);
      color: var(--vscode-button-foreground);
    }
    
    .restart-anim-btn:hover {
      background: var(--vscode-button-hoverBackground);
    }
    
    /* Section Card */
    .section {
      background: linear-gradient(135deg, var(--vscode-sideBar-background), var(--vscode-editor-background));
      border: 1px solid var(--vscode-panel-border);
      border-radius: 10px;
      padding: 12px;
      margin-bottom: 10px;
    }
    
    .section-title {
      font-size: 10px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.8px;
      color: var(--vscode-descriptionForeground);
      margin-bottom: 10px;
      display: flex;
      align-items: center;
      gap: 6px;
      padding-bottom: 8px;
      border-bottom: 1px solid var(--vscode-panel-border);
    }

    .section-title .codicon {
      font-size: 12px;
      opacity: 0.8;
    }
    
    /* Right Column - Scrollable */
    .right-column {
      display: flex;
      flex-direction: column;
      gap: 10px;
      overflow-y: auto;
      max-height: calc(100vh - 80px);
      padding-right: 4px;
    }
    
    .right-column::-webkit-scrollbar {
      width: 6px;
    }
    
    .right-column::-webkit-scrollbar-track {
      background: transparent;
    }
    
    .right-column::-webkit-scrollbar-thumb {
      background: var(--vscode-scrollbarSlider-background);
      border-radius: 3px;
    }
    
    .right-column::-webkit-scrollbar-thumb:hover {
      background: var(--vscode-scrollbarSlider-hoverBackground);
    }
    
    /* Tabs */
    .tabs-container {
      display: flex;
      flex-direction: column;
      flex: 1;
      min-height: 0;
      background: linear-gradient(135deg, var(--vscode-sideBar-background), var(--vscode-editor-background));
      border: 1px solid var(--vscode-panel-border);
      border-radius: 10px;
      overflow: hidden;
    }
    
    .tabs-header {
      display: flex;
      gap: 0;
      background: var(--vscode-editor-background);
      border-bottom: 1px solid var(--vscode-panel-border);
      padding: 0;
    }
    
    .tab-btn {
      flex: 1;
      padding: 10px 16px;
      background: transparent;
      border: none;
      color: var(--vscode-descriptionForeground);
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      border-bottom: 2px solid transparent;
      margin-bottom: -1px;
    }
    
    .tab-btn:hover {
      color: var(--vscode-foreground);
      background: var(--vscode-list-hoverBackground);
    }
    
    .tab-btn.active {
      color: var(--vscode-button-background);
      border-bottom-color: var(--vscode-button-background);
      background: var(--vscode-sideBar-background);
    }
    
    .tab-btn .codicon {
      font-size: 14px;
    }
    
    .tab-content {
      display: none;
      padding: 12px;
      flex: 1;
      overflow-y: auto;
    }
    
    .tab-content.active {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    
    #tab-code.active {
      padding: 16px;
      gap: 16px;
      min-height: 0;
      overflow-y: auto;
    }
    
    /* Colors & Variants Row */
    .colors-variants-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      align-items: start;
      align-content: start;
    }
    
    .colors-variants-row .section {
      margin-bottom: 0;
      height: fit-content;
    }
    
    .colors-variants-row .color-swatches {
      flex-direction: column;
    }
    
    .colors-variants-row .color-item {
      flex-direction: row;
      gap: 8px;
    }
    
    .colors-variants-row .Variants-container {
      max-height: 200px;
      overflow-y: auto;
    }
    
    /* Color Swatches */
    .color-swatches {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      align-items: flex-start;
      transition: opacity 0.2s ease;
    }
    
    .color-swatches.disabled {
      opacity: 0.4;
      pointer-events: none;
    }
    
    .colors-hint {
      font-size: 10px;
      color: var(--vscode-descriptionForeground);
      font-weight: 400;
      margin-left: 8px;
    }
    
    .colors-disabled .section-title {
      opacity: 0.7;
    }
    
    .color-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
    }
    
    .color-swatch {
      position: relative;
      width: 40px;
      height: 40px;
      border-radius: 8px;
      border: 2px solid rgba(255,255,255,0.15);
      cursor: pointer;
      transition: all 0.2s ease;
      box-shadow: 0 2px 8px rgba(0,0,0,0.25);
    }
    
    .color-swatch:hover {
      transform: scale(1.1);
      border-color: var(--vscode-focusBorder);
      box-shadow: 0 4px 16px rgba(0,0,0,0.35);
    }
    
    .color-swatch input[type="color"] {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0;
      cursor: pointer;
    }
    
    .color-label {
      font-size: 9px;
      color: var(--vscode-descriptionForeground);
      font-family: var(--vscode-editor-font-family);
      max-width: 45px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
    }
    
    /* Variants Section */
    .disabled-section {
      opacity: 0.6;
    }
    
    .Variants-disabled-message {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 12px;
      background: var(--vscode-input-background);
      border: 1px dashed var(--vscode-panel-border);
      border-radius: 6px;
      color: var(--vscode-descriptionForeground);
      font-size: 11px;
    }
    
    .Variants-disabled-message .codicon {
      font-size: 14px;
      opacity: 0.7;
    }
    
    .Variants-container {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    
    .variant-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      background: var(--vscode-input-background);
      border: 1px solid var(--vscode-panel-border);
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .variant-item:hover {
      border-color: var(--vscode-focusBorder);
      background: var(--vscode-list-hoverBackground);
    }
    
    .variant-item.default {
      border-style: solid;
      background: var(--vscode-input-background);
    }
    
    .variant-item.default .variant-name {
      font-style: normal;
    }
    
    .variant-item.selected {
      border-color: var(--vscode-button-background);
      background: rgba(0, 122, 204, 0.15);
      box-shadow: 0 0 0 1px var(--vscode-button-background);
    }
    
    .variant-item.selected .variant-name {
      color: var(--vscode-button-background);
      font-weight: 600;
    }
    
    .variant-colors {
      display: flex;
      gap: 3px;
      flex-shrink: 0;
    }
    
    .variant-color-dot {
      width: 20px;
      height: 20px;
      border-radius: 4px;
      border: 1px solid rgba(255,255,255,0.15);
      box-shadow: 0 1px 3px rgba(0,0,0,0.2);
      cursor: pointer;
      transition: transform 0.15s ease;
    }
    
    .variant-color-dot:hover {
      transform: scale(1.2);
      z-index: 1;
    }
    
    .variant-name {
      font-size: 11px;
      color: var(--vscode-foreground);
      max-width: 80px;
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      flex: 1;
    }
    
    .variant-badge {
      font-size: 8px;
      padding: 2px 5px;
      border-radius: 3px;
      text-transform: uppercase;
      letter-spacing: 0.3px;
    }
    
    .variant-badge.readonly {
      background: rgba(255, 193, 7, 0.15);
      color: #ffc107;
      border: 1px solid rgba(255, 193, 7, 0.3);
    }
    
    .variant-actions {
      display: flex;
      gap: 2px;
      opacity: 0;
      transition: opacity 0.2s;
      margin-left: auto;
    }
    
    .variant-item:hover .variant-actions {
      opacity: 1;
    }
    
    .variant-edit, .variant-delete {
      background: none;
      border: none;
      color: var(--vscode-descriptionForeground);
      cursor: pointer;
      padding: 2px;
      transition: all 0.2s;
      font-size: 10px;
    }
    
    .variant-edit:hover {
      color: var(--vscode-button-background);
    }
    
    .variant-delete:hover {
      color: var(--vscode-errorForeground);
    }

    .variants-actions {
      display: flex;
      align-items: center;
      gap: 4px;
      margin-left: auto;
    }
    
    .variant-save-btn {
      background: none;
      border: none;
      color: var(--vscode-descriptionForeground);
      cursor: pointer;
      padding: 2px;
      transition: all 0.2s;
    }
    
    .variant-save-btn:hover {
      color: var(--vscode-button-background);
    }

    .no-Variants {
      font-size: 10px;
      color: var(--vscode-descriptionForeground);
      font-style: italic;
    }
    
    .colors-warning {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-top: 8px;
      padding: 8px 12px;
      background: var(--vscode-inputValidation-warningBackground);
      border: 1px solid var(--vscode-inputValidation-warningBorder);
      border-radius: 6px;
      font-size: 11px;
      color: var(--vscode-inputValidation-warningForeground, var(--vscode-foreground));
    }
    
    .colors-warning .codicon {
      color: var(--vscode-editorWarning-foreground);
    }

    .current-color-item {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
    }
    
    .current-color-swatch {
      position: relative;
      width: 40px;
      height: 40px;
      border-radius: 8px;
      border: 2px solid var(--vscode-inputValidation-infoBorder);
      background: linear-gradient(135deg, #000 50%, #fff 50%);
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 8px rgba(0,0,0,0.25);
    }
    
    .current-color-swatch:hover {
      transform: scale(1.1);
      border-color: var(--vscode-focusBorder);
      box-shadow: 0 4px 16px rgba(0,0,0,0.35);
    }
    
    .current-color-swatch input[type="color"] {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 0;
      cursor: pointer;
    }
    
    .current-color-icon {
      font-size: 16px;
      color: var(--vscode-foreground);
      mix-blend-mode: difference;
    }
    
    .current-color-label {
      font-size: 9px;
      color: var(--vscode-descriptionForeground);
      max-width: 45px;
      text-align: center;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .no-colors {
      color: var(--vscode-descriptionForeground);
      font-style: italic;
      font-size: 11px;
    }
    
    /* Buttons */
    .btn {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 10px 16px;
      background: var(--vscode-button-secondaryBackground);
      color: var(--vscode-button-secondaryForeground);
      border: none;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.15s ease;
    }
    
    .btn:hover {
      background: var(--vscode-button-secondaryHoverBackground);
      transform: translateY(-1px);
    }
    
    .btn-primary {
      background: var(--vscode-button-background);
      color: var(--vscode-button-foreground);
    }
    
    .btn-primary:hover {
      background: var(--vscode-button-hoverBackground);
    }
    
    .btn-secondary {
      background: var(--vscode-button-secondaryBackground);
      color: var(--vscode-button-secondaryForeground);
    }
    
    .btn-secondary:hover {
      background: var(--vscode-button-secondaryHoverBackground);
    }
    
    .btn-success {
      background: rgba(115, 201, 145, 0.15);
      color: #73c991;
    }
    
    .btn-success:hover {
      background: rgba(115, 201, 145, 0.25);
    }
    
    /* Actions Section - Compact Toolbar */
    .actions-section {
      display: flex;
      align-items: center;
      gap: 4px;
      margin-top: 8px;
      padding: 6px;
      background: var(--vscode-sideBar-background);
      border: 1px solid var(--vscode-panel-border);
      border-radius: 6px;
    }
    
    .action-btn {
      width: 32px;
      height: 32px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--vscode-button-secondaryBackground);
      color: var(--vscode-button-secondaryForeground);
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.15s ease;
    }
    
    .action-btn:hover {
      background: var(--vscode-button-secondaryHoverBackground);
      transform: scale(1.1);
    }
    
    .action-btn.primary {
      background: var(--vscode-button-background);
      color: var(--vscode-button-foreground);
    }
    
    .action-btn.primary:hover {
      background: var(--vscode-button-hoverBackground);
    }
    
    .action-btn.warning {
      background: linear-gradient(135deg, rgba(204, 166, 82, 0.2), rgba(204, 120, 82, 0.2));
      color: #cca652;
    }
    
    .action-btn.warning:hover {
      background: linear-gradient(135deg, rgba(204, 166, 82, 0.3), rgba(204, 120, 82, 0.3));
    }

    /* Animation Tab Styles */
    .animation-types {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 8px;
    }
    
    .animation-type-btn {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      padding: 12px 8px;
      background: var(--vscode-editor-background);
      border: 1px solid var(--vscode-panel-border);
      border-radius: 8px;
      color: var(--vscode-foreground);
      font-size: 11px;
      cursor: pointer;
      transition: all 0.15s ease;
    }
    
    .animation-type-btn:hover {
      background: var(--vscode-list-hoverBackground);
      border-color: var(--vscode-focusBorder);
    }
    
    .animation-type-btn.active {
      background: rgba(var(--vscode-button-background-rgb, 0, 122, 204), 0.15);
      border-color: var(--vscode-button-background);
      color: var(--vscode-button-background);
    }
    
    .animation-type-btn .codicon {
      font-size: 18px;
    }
    
    .animation-settings {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    
    .setting-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }
    
    .setting-row label {
      font-size: 12px;
      color: var(--vscode-descriptionForeground);
      min-width: 70px;
    }
    
    .setting-control {
      display: flex;
      align-items: center;
      gap: 8px;
      flex: 1;
    }
    
    .setting-control input[type="range"] {
      flex: 1;
      height: 4px;
      background: var(--vscode-scrollbarSlider-background);
      border-radius: 2px;
      appearance: none;
      cursor: pointer;
    }
    
    .setting-control input[type="range"]::-webkit-slider-thumb {
      appearance: none;
      width: 14px;
      height: 14px;
      background: var(--vscode-button-background);
      border-radius: 50%;
      cursor: pointer;
    }
    
    .setting-control span {
      font-size: 11px;
      color: var(--vscode-foreground);
      min-width: 35px;
      text-align: right;
    }
    
    .setting-row select {
      flex: 1;
      padding: 6px 10px;
      background: var(--vscode-dropdown-background);
      border: 1px solid var(--vscode-dropdown-border);
      color: var(--vscode-dropdown-foreground);
      border-radius: 6px;
      font-size: 12px;
      cursor: pointer;
    }
    
    .setting-row select:focus {
      outline: none;
      border-color: var(--vscode-focusBorder);
    }
    
    .animation-export {
      display: flex;
      flex-direction: column;
      gap: 8px;
      align-items: center;
    }
    
    .animation-export .btn {
      width: 100%;
    }
    
    .animation-export .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    .export-hint {
      font-size: 11px;
      color: var(--vscode-descriptionForeground);
    }
    
    /* Animation keyframes */
    @keyframes spin {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }
    
    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.1); opacity: 0.8; }
    }
    
    @keyframes bounce {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }
    
    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      25% { transform: translateX(-4px); }
      75% { transform: translateX(4px); }
    }
    
    @keyframes fade {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.3; }
    }
    
    @keyframes spin-reverse {
      from { transform: rotate(360deg); }
      to { transform: rotate(0deg); }
    }
    
    @keyframes pulse-grow {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }
    
    @keyframes bounce-horizontal {
      0%, 100% { transform: translateX(0); }
      50% { transform: translateX(8px); }
    }
    
    @keyframes shake-vertical {
      0%, 100% { transform: translateY(0); }
      25% { transform: translateY(-4px); }
      75% { transform: translateY(4px); }
    }
    
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }
    
    @keyframes swing {
      0%, 100% { transform: rotate(0deg); transform-origin: top center; }
      25% { transform: rotate(15deg); }
      75% { transform: rotate(-15deg); }
    }
    
    @keyframes flip {
      0% { transform: perspective(400px) rotateY(0); }
      100% { transform: perspective(400px) rotateY(360deg); }
    }
    
    @keyframes flip-x {
      0% { transform: perspective(400px) rotateX(0); }
      100% { transform: perspective(400px) rotateX(360deg); }
    }
    
    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      14% { transform: scale(1.15); }
      28% { transform: scale(1); }
      42% { transform: scale(1.15); }
      70% { transform: scale(1); }
    }
    
    @keyframes wobble {
      0%, 100% { transform: translateX(0) rotate(0); }
      15% { transform: translateX(-6px) rotate(-5deg); }
      30% { transform: translateX(5px) rotate(3deg); }
      45% { transform: translateX(-4px) rotate(-3deg); }
      60% { transform: translateX(3px) rotate(2deg); }
      75% { transform: translateX(-2px) rotate(-1deg); }
    }
    
    @keyframes rubber-band {
      0%, 100% { transform: scaleX(1); }
      30% { transform: scaleX(1.25) scaleY(0.75); }
      40% { transform: scaleX(0.75) scaleY(1.25); }
      50% { transform: scaleX(1.15) scaleY(0.85); }
      65% { transform: scaleX(0.95) scaleY(1.05); }
      75% { transform: scaleX(1.05) scaleY(0.95); }
    }
    
    @keyframes jello {
      0%, 11.1%, 100% { transform: skewX(0) skewY(0); }
      22.2% { transform: skewX(-12.5deg) skewY(-12.5deg); }
      33.3% { transform: skewX(6.25deg) skewY(6.25deg); }
      44.4% { transform: skewX(-3.125deg) skewY(-3.125deg); }
      55.5% { transform: skewX(1.5625deg) skewY(1.5625deg); }
    }
    
    @keyframes tada {
      0%, 100% { transform: scale(1) rotate(0); }
      10%, 20% { transform: scale(0.9) rotate(-3deg); }
      30%, 50%, 70%, 90% { transform: scale(1.1) rotate(3deg); }
      40%, 60%, 80% { transform: scale(1.1) rotate(-3deg); }
    }
    
    @keyframes fade-in {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    @keyframes fade-out {
      from { opacity: 1; }
      to { opacity: 0; }
    }
    
    @keyframes zoom-in {
      from { transform: scale(0); opacity: 0; }
      to { transform: scale(1); opacity: 1; }
    }
    
    @keyframes zoom-out {
      from { transform: scale(1); opacity: 1; }
      to { transform: scale(0); opacity: 0; }
    }
    
    @keyframes slide-in-up {
      from { transform: translateY(100%); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    @keyframes slide-in-down {
      from { transform: translateY(-100%); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    
    @keyframes slide-in-left {
      from { transform: translateX(-100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes slide-in-right {
      from { transform: translateX(100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }
    
    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0; }
    }
    
    @keyframes glow {
      0%, 100% { filter: drop-shadow(0 0 2px currentColor); }
      50% { filter: drop-shadow(0 0 10px currentColor) drop-shadow(0 0 20px currentColor); }
    }
    
    @keyframes draw {
      from { stroke-dashoffset: var(--path-length, 1000); }
      to { stroke-dashoffset: 0; }
    }
    
    @keyframes draw-reverse {
      from { stroke-dashoffset: 0; }
      to { stroke-dashoffset: var(--path-length, 1000); }
    }
    
    @keyframes draw-loop {
      0% { stroke-dashoffset: var(--path-length, 1000); }
      45% { stroke-dashoffset: 0; }
      55% { stroke-dashoffset: 0; }
      100% { stroke-dashoffset: var(--path-length, 1000); }
    }
    
    .anim-spin { animation: spin var(--anim-duration, 1s) var(--anim-timing, linear) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); transform-origin: center; }
    .anim-spin-reverse { animation: spin-reverse var(--anim-duration, 1s) var(--anim-timing, linear) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); transform-origin: center; }
    .anim-pulse { animation: pulse var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); transform-origin: center; }
    .anim-pulse-grow { animation: pulse-grow var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); transform-origin: center; }
    .anim-bounce { animation: bounce var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); transform-origin: center; }
    .anim-bounce-horizontal { animation: bounce-horizontal var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); transform-origin: center; }
    .anim-shake { animation: shake var(--anim-duration, 0.5s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); transform-origin: center; }
    .anim-shake-vertical { animation: shake-vertical var(--anim-duration, 0.5s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); transform-origin: center; }
    .anim-fade { animation: fade var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); }
    .anim-fade-in { animation: fade-in var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, 1) var(--anim-direction, normal); }
    .anim-fade-out { animation: fade-out var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, 1) var(--anim-direction, normal); }
    .anim-float { animation: float var(--anim-duration, 2s) var(--anim-timing, ease-in-out) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); transform-origin: center; }
    .anim-swing { animation: swing var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); transform-origin: top center; }
    .anim-flip { animation: flip var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); transform-origin: center; }
    .anim-flip-x { animation: flip-x var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); transform-origin: center; }
    .anim-heartbeat { animation: heartbeat var(--anim-duration, 1.5s) var(--anim-timing, ease-in-out) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); transform-origin: center; }
    .anim-wobble { animation: wobble var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); transform-origin: center; }
    .anim-rubber-band { animation: rubber-band var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); transform-origin: center; }
    .anim-jello { animation: jello var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); transform-origin: center; }
    .anim-tada { animation: tada var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); transform-origin: center; }
    .anim-zoom-in { animation: zoom-in var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, 1) var(--anim-direction, normal); transform-origin: center; }
    .anim-zoom-out { animation: zoom-out var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, 1) var(--anim-direction, normal); transform-origin: center; }
    .anim-slide-in-up { animation: slide-in-up var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, 1) var(--anim-direction, normal); transform-origin: center; }
    .anim-slide-in-down { animation: slide-in-down var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, 1) var(--anim-direction, normal); transform-origin: center; }
    .anim-slide-in-left { animation: slide-in-left var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, 1) var(--anim-direction, normal); transform-origin: center; }
    .anim-slide-in-right { animation: slide-in-right var(--anim-duration, 1s) var(--anim-timing, ease) var(--anim-delay, 0s) var(--anim-iteration, 1) var(--anim-direction, normal); transform-origin: center; }
    .anim-blink { animation: blink var(--anim-duration, 1s) var(--anim-timing, step-end) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); }
    .anim-glow { animation: glow var(--anim-duration, 2s) var(--anim-timing, ease-in-out) var(--anim-delay, 0s) var(--anim-iteration, infinite) var(--anim-direction, normal); }
    
    /* Draw animations apply to SVG children */
    .anim-draw path, .anim-draw line, .anim-draw polyline, .anim-draw polygon, .anim-draw circle, .anim-draw ellipse, .anim-draw rect {
      --path-length: 1000;
      stroke-dasharray: var(--path-length);
      stroke-dashoffset: var(--path-length);
      animation: draw var(--anim-duration, 2s) var(--anim-timing, ease-in-out) var(--anim-delay, 0s) forwards;
    }
    .anim-draw-reverse path, .anim-draw-reverse line, .anim-draw-reverse polyline, .anim-draw-reverse polygon, .anim-draw-reverse circle, .anim-draw-reverse ellipse, .anim-draw-reverse rect {
      --path-length: 1000;
      stroke-dasharray: var(--path-length);
      stroke-dashoffset: 0;
      animation: draw-reverse var(--anim-duration, 2s) var(--anim-timing, ease-in-out) var(--anim-delay, 0s) forwards;
    }
    .anim-draw-loop path, .anim-draw-loop line, .anim-draw-loop polyline, .anim-draw-loop polygon, .anim-draw-loop circle, .anim-draw-loop ellipse, .anim-draw-loop rect {
      --path-length: 1000;
      stroke-dasharray: var(--path-length);
      stroke-dashoffset: var(--path-length);
      animation: draw-loop var(--anim-duration, 2s) var(--anim-timing, ease-in-out) var(--anim-delay, 0s) var(--anim-iteration, infinite);
    }
    
    /* Animation category buttons */
    .animation-categories {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
    }
    
    .anim-category-btn {
      padding: 6px 12px;
      background: var(--vscode-button-secondaryBackground);
      color: var(--vscode-button-secondaryForeground);
      border: 1px solid var(--vscode-panel-border);
      border-radius: 16px;
      font-size: 11px;
      cursor: pointer;
      transition: all 0.15s ease;
    }
    
    .anim-category-btn:hover {
      background: var(--vscode-button-secondaryHoverBackground);
    }
    
    .anim-category-btn.active {
      background: var(--vscode-button-background);
      color: var(--vscode-button-foreground);
      border-color: var(--vscode-button-background);
    }
    
    .draw-hint {
      display: flex;
      align-items: flex-start;
      gap: 8px;
      padding: 10px 12px;
      background: var(--vscode-inputValidation-infoBackground);
      border: 1px solid var(--vscode-inputValidation-infoBorder);
      border-radius: 6px;
      font-size: 11px;
      color: var(--vscode-foreground);
      margin-top: 10px;
    }
    
    .draw-hint .codicon {
      flex-shrink: 0;
      margin-top: 1px;
    }
/* Optimize Improvements */

/* Custom Range Slider */
input[type=range] {
  -webkit-appearance: none;
  width: 100%;
  background: transparent;
  height: 18px;
  cursor: pointer;
}

input[type=range]:focus {
  outline: none;
}

input[type=range]::-webkit-slider-runnable-track {
  width: 100%;
  height: 4px;
  background: var(--vscode-scrollbarSlider-background);
  border-radius: 2px;
  transition: background 0.2s;
}

input[type=range]:hover::-webkit-slider-runnable-track {
  background: var(--vscode-scrollbarSlider-hoverBackground);
}

input[type=range]::-webkit-slider-thumb {
  -webkit-appearance: none;
  height: 14px;
  width: 14px;
  border-radius: 50%;
  background: var(--vscode-button-background);
  margin-top: -5px; /* (track height / 2) - (thumb height / 2) */
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  transition: transform 0.1s, background 0.2s;
}

input[type=range]::-webkit-slider-thumb:hover {
  background: var(--vscode-button-hoverBackground);
  transform: scale(1.2);
}

/* Optimize Section Styling */
.optimize-presets {
  display: flex;
  background: var(--vscode-input-background);
  border: 1px solid var(--vscode-input-border);
  border-radius: 6px;
  padding: 2px;
  margin-bottom: 16px;
}

.optimize-preset {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  background: transparent;
  border: none;
  color: var(--vscode-foreground);
  padding: 8px 12px;
  cursor: pointer;
  border-radius: 4px;
  transition: all 0.2s;
}

.optimize-preset .preset-name {
  font-size: 11px;
  font-weight: 500;
}

.optimize-preset .preset-size {
  font-size: 9px;
  color: var(--vscode-descriptionForeground);
  min-height: 12px;
}

.optimize-preset:hover {
  background: var(--vscode-list-hoverBackground);
}

.optimize-preset.active {
  background: var(--vscode-button-background);
  color: var(--vscode-button-foreground);
  font-weight: 600;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.optimize-result {
  background: var(--vscode-editor-inactiveSelectionBackground);
  border: 1px solid var(--vscode-panel-border);
  border-radius: 8px;
  padding: 12px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.optimize-stats {
  display: flex;
  justify-content: space-between;
  font-family: var(--font-mono);
  font-size: 11px;
  color: var(--vscode-descriptionForeground);
  padding-bottom: 8px;
  border-bottom: 1px solid var(--vscode-panel-border);
}

.optimize-savings {
  text-align: center;
  font-weight: 600;
  color: var(--vscode-charts-green);
  font-size: 12px;
}

.optimize-actions {
  display: flex;
  gap: 8px;
  margin-top: 4px;
}

.optimize-actions button {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 6px;
  padding: 6px;
  border-radius: 4px;
  border: 1px solid transparent;
  cursor: pointer;
  font-size: 11px;
  font-weight: 500;
  transition: all 0.2s;
}

#btnApplyOptimized {
  background: var(--vscode-button-background);
  color: var(--vscode-button-foreground);
}

#btnApplyOptimized:hover:not(:disabled) {
  background: var(--vscode-button-hoverBackground);
}

#btnApplyOptimized:disabled {
  opacity: 0.5;
  cursor: not-allowed;
  background: var(--vscode-button-secondaryBackground);
  color: var(--vscode-disabledForeground);
}

#btnRevertOptimized {
  background: var(--vscode-errorForeground);
  color: white;
  opacity: 0.9;
}

#btnRevertOptimized:hover {
  opacity: 1;
  box-shadow: 0 2px 8px rgba(255, 0, 0, 0.2);
}

.optimize-actions button:last-child {
  background: var(--vscode-button-secondaryBackground);
  color: var(--vscode-button-secondaryForeground);
}

.optimize-actions button:last-child:hover {
  background: var(--vscode-button-secondaryHoverBackground);
}

.filters-optimize-row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; align-items: start; align-content: start; }
.filters-optimize-row .section { margin-bottom: 0; height: fit-content; }
/* Improved Color Swatches Interface */

.colors-variants-row .color-swatches {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 6px;
  width: 100%;
}

.colors-variants-row .color-item {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 8px;
  padding: 5px 6px;
  border-radius: 6px;
  background: var(--vscode-editor-inactiveSelectionBackground);
  border: 1px solid transparent;
  transition: all 0.2s ease;
  width: 100%;
  min-width: 0;
}

.colors-variants-row .color-item:hover {
  background: var(--vscode-list-hoverBackground);
  border-color: var(--vscode-focusBorder);
}

.colors-variants-row .color-swatch {
  width: 26px;
  height: 26px;
  min-width: 26px;
  min-height: 26px;
  border-radius: 6px;
  border: 2px solid rgba(255,255,255,0.1);
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  flex-shrink: 0;
  position: relative;
  cursor: pointer;
  overflow: visible;
}

.colors-variants-row .color-swatch:hover {
  border-color: var(--vscode-focusBorder);
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
}

.colors-variants-row .color-swatch input[type="color"] {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  cursor: pointer;
  z-index: 10;
}

.colors-variants-row .color-label {
  font-family: var(--font-mono);
  font-size: 10px;
  color: var(--vscode-foreground);
  opacity: 0.85;
  user-select: text;
  cursor: pointer;
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  min-width: 0;
  transition: color 0.2s;
}

.colors-variants-row .color-label:hover {
  color: var(--vscode-textLink-foreground);
  text-decoration: underline;
}

/* Current Color Special Styling */
.current-color-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 6px 8px;
  margin-bottom: 8px;
  border-bottom: 1px solid var(--vscode-panel-border);
}

.current-color-swatch {
  width: 32px;
  height: 32px;
  border-radius: 8px;
  background: linear-gradient(135deg, #333, #000);
  display: flex;
  align-items: center;
  justify-content: center;
  border: 1px solid var(--vscode-panel-border);
  position: relative;
}

.current-color-swatch input[type="color"] {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  opacity: 0;
  cursor: pointer;
  z-index: 10;
}

.current-color-icon {
  color: #fff;
  font-size: 14px;
  pointer-events: none;
}

.current-color-label {
  font-family: var(--font-mono);
  font-size: 12px;
  font-weight: 600;
  color: var(--vscode-textLink-foreground);
}

/* Color Copy Button */
.color-copy-btn {
  background: transparent;
  border: none;
  color: var(--vscode-descriptionForeground);
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  opacity: 0;
  transition: all 0.15s ease;
  margin-left: auto;
  display: flex;
  align-items: center;
  justify-content: center;
}

.color-item:hover .color-copy-btn {
  opacity: 0.7;
}

.color-copy-btn:hover {
  opacity: 1 !important;
  background: var(--vscode-button-secondaryBackground);
  color: var(--vscode-foreground);
}

.color-copy-btn .codicon {
  font-size: 12px;
}
